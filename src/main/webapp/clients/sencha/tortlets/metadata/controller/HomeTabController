{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "HomeTabController"
    },
    "designerId": "f349d5fa-f50b-405e-b80f-e46f09bf9967",
    "cn": [
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "homeTabCardPanel",
                "selector": "homeTabCardPanel"
            },
            "designerId": "345e27f2-eaae-4385-ab6f-bee6c0fa579f"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTodaysTortletsListItemTap",
                "implHandler": [
                    "var homeTabController = this;\r",
                    "Ext.Msg.confirm('', 'Done with Tortlet ?', function(buttonId,value,opt) { \r",
                    "    \r",
                    "    if(buttonId === 'yes') {\r",
                    "    \r",
                    "        record.sourceStoreId = 'todaysTortletsStore';\r",
                    "        homeTabController.saveTortlet(homeTabController, record);        \r",
                    "    }\r",
                    "\r",
                    "});\r",
                    "\r",
                    "\r",
                    "//var tortletDetails = this.getTortletDetails();\r",
                    "\r",
                    "\r",
                    "//alert(record.sourceStoreId);\r",
                    "//tortletDetails.setRecord(record);\r",
                    "\r",
                    "//this.getHomeTabCardPanel().animateActiveItem(tortletDetails, { type: 'slide'});\r",
                    "\r",
                    "/// Populate record from form. populateTortletRecordFromForm()\r",
                    "\r",
                    "\r",
                    "\r",
                    "//this.getHomeTabCardPanel().\r",
                    "//animateActiveItem(0,{type : 'slide', direction : 'right'});"
                ],
                "name": "itemtap",
                "designer|targetType": "TodaysTortletList",
                "designer|controlQuery": "todayTortletsList"
            },
            "designerId": "1ce0bcec-8d05-4364-a30f-32ea05e4a5cf"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortletsListItemTap",
                "implHandler": [
                    "var homeTabController = this;\r",
                    "Ext.Msg.confirm('', 'Done with Tortlet ?', function(buttonId,value,opt) { \r",
                    "    \r",
                    "    if(buttonId === 'yes') {\r",
                    "    \r",
                    "        record.sourceStoreId = 'incompleteTortletsStore';\r",
                    "        homeTabController.saveTortlet(homeTabController, record) ;       \r",
                    "    }\r",
                    "\r",
                    "});\r",
                    "\r",
                    "\r",
                    "//var tortletDetails = this.getTortletDetails();\r",
                    "\r",
                    "//var sourceStoreId = 'incompleteTortletsStore';\r",
                    "\r",
                    "//record.sourceStoreId=sourceStoreId;\r",
                    "//tortletDetails.setRecord(record);\r",
                    "\r",
                    "//this.getHomeTabCardPanel().animateActiveItem(tortletDetails, {type : 'slide'});"
                ],
                "name": "itemtap",
                "designer|targetType": "TortletsList",
                "designer|controlQuery": "tortletsList"
            },
            "designerId": "1acb295d-6f6b-429c-9e32-2ae72f6c3aef"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortletsDetailsBackButtonTap",
                "implHandler": [
                    "this.getHomeTabCardPanel().animateActiveItem(0, { type: 'slide', direction : 'right'});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortletsDetailsBackButton']"
            },
            "designerId": "f9954aa4-486a-4ba8-bbe9-7f0df46d7c9e"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onDreamDetailBackButtonTap",
                "implHandler": [
                    "this.getHomeTabCardPanel().animateActiveItem(0, { type: 'slide', direction : 'right'});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='dreamDetailsBackButton']"
            },
            "designerId": "5d03803e-69ad-4808-921b-00a2af3bf411"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortletDetailsSaveButtonTap",
                "implHandler": [
                    "var tortletDetailsForm = this.getTortletDetails();\r",
                    "console.log('inside onSaveButton record id' + tortletDetailsForm.getRecord());\r",
                    "\r",
                    "/// Populate record from form. populateTortletRecordFromForm()\r",
                    "var record = tortletDetailsForm.getRecord();\r",
                    "\r",
                    "tortletDetailsForm.updateRecord(record);\r",
                    "operation = {};\r",
                    "operation.success = this.oldTortletSaveSuccess;\r",
                    "operation.failure = this.oldTortletSaveFailure;\r",
                    "\r",
                    "if(record.dirty){\r",
                    "\r",
                    "    if(record.get('completed') === true){\r",
                    "\r",
                    "        eitherOneStore = Ext.getStore(record.sourceStoreId);\r",
                    "        eitherOneStore.removedRecordIndex = eitherOneStore.indexOf(record);\r",
                    "        eitherOneStore.remove(record); \r",
                    "\r",
                    "    }\r",
                    "\r",
                    "    record.save(operation);\r",
                    "}\r",
                    "\r",
                    "this.getHomeTabCardPanel().\r",
                    "animateActiveItem(0,{type : 'slide', direction : 'right'});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortletDetailsSaveButton']"
            },
            "designerId": "02d9775a-ead2-4cad-9120-9ef137056185"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "tortletDetails",
                "selector": "tortletDetails"
            },
            "designerId": "c90cbdcd-24d1-46c9-9513-22e17c7db37b"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onShowTodayListButtonTap",
                "implHandler": [
                    "console.log('showTodayListButton');\r",
                    "var store = Ext.getStore('todaysTortletsStore');\r",
                    "url = store.getProxy().getUrl();\r",
                    "var d = new Date();\r",
                    "var curr_date = d.getDate();\r",
                    "var curr_month = d.getMonth() + 1; //Months are zero based\r",
                    "var curr_year = d.getFullYear();\r",
                    "var today = (curr_month  + \"/\" + curr_date + \"/\" + curr_year);\r",
                    "\r",
                    "todayUrl = url + '&createdOn=' + today;\r",
                    "store.getProxy().setUrl(todayUrl);\r",
                    "store.load();\r",
                    "store.getProxy().setUrl(url);\r",
                    "var tortletsListsContainerPanel = this.getTortletsListsContainerPanel();\r",
                    "var todaysTortletListPanel = this.getTodaysTortletListPanel();\r",
                    "tortletsListsContainerPanel.setActiveItem(todaysTortletListPanel);\r",
                    "//this.getTodayTortletsList().show();\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='showTodayListButton']"
            },
            "designerId": "425672a8-71ac-4627-b8d6-641f835c3f1c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onShowPendingListButtonTap",
                "implHandler": [
                    "console.log('showPendingListButton');\r",
                    "\r",
                    "var incompleteTortletsStore = Ext.getStore('incompleteTortletsStore');\r",
                    "var proxy = incompleteTortletsStore.getProxy();\r",
                    "\r",
                    "Ext.getStore('incompleteTortletsStore').load();\r",
                    "\r",
                    "var tortletsListsContainerPanel = this.getTortletsListsContainerPanel();\r",
                    "var tortletListPanel = this.getTortletListPanel();\r",
                    "\r",
                    "tortletsListsContainerPanel.setActiveItem(tortletListPanel);\r",
                    "//this.getTortletsList().show();\r",
                    "//this.getTodayTortletsList().hide();"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='showPendingListButton']"
            },
            "designerId": "9a7a6816-b19f-4969-a75e-a7831250a2ed"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "todayTortletsList",
                "selector": "todayTortletsList"
            },
            "designerId": "2cff6baa-9e3a-49ed-86a3-22483b7dc5d9"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "tortletsList",
                "selector": "tortletsList"
            },
            "designerId": "283f5bed-9b38-4908-bc8d-86b88ab3f73e"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "oldTortletSaveSuccess",
                "designer|params": [
                    "savedEntity",
                    "operation"
                ],
                "implHandler": [
                    "\r",
                    "var store = Ext.getStore(savedEntity.sourceStoreId);\r",
                    "store.removedIndexRecord='';\r",
                    "\r",
                    "console.log('oldTortletSaveSuccesful');\r",
                    "\r",
                    ""
                ]
            },
            "designerId": "61674fa9-8c24-4279-a731-077a56c41904"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "oldTortletSaveFailure",
                "designer|params": [
                    "entityTried",
                    "operation"
                ],
                "implHandler": [
                    "\r",
                    "var store = Ext.getStore(entityTried.sourceStoreId);\r",
                    "if(store.removedRecordIndex !== ''){\r",
                    "\r",
                    "    store.insert(store.removedRecordIndex, entityTried);\r",
                    "    store.removedRecordIndex='';\r",
                    "}\r",
                    "\r",
                    "Ext.Msg.alert('Failure','Could not save to server,try again later',Ext.emptyFn);\r",
                    ""
                ]
            },
            "designerId": "f157240a-5de6-4a3c-8bee-d2c45a5ffe2d"
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "init",
                "designer|params": [
                    "application"
                ],
                "implHandler": [
                    "console.log('initing HomeTabController');"
                ]
            },
            "designerId": "11ac7812-b9f5-48df-98e8-cbd3ec699389"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "saveTortlet",
                "designer|params": [
                    "homeTabController",
                    "record"
                ],
                "implHandler": [
                    "operation = {};\r",
                    "operation.success = homeTabController.oldTortletSaveSuccess;\r",
                    "operation.failure = homeTabController.oldTortletSaveFailure;\r",
                    "\r",
                    "eitherOneStore = Ext.getStore(record.sourceStoreId);\r",
                    "eitherOneStore.removedRecordIndex = eitherOneStore.indexOf(record);\r",
                    "eitherOneStore.remove(record); \r",
                    "record.set('completed', true);\r",
                    "record.save(operation);"
                ]
            },
            "designerId": "650aa750-313e-4784-894e-9050d5acef85"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "todaysTortletListPanel",
                "selector": "todaysTortletListPanel"
            },
            "designerId": "66796ffe-8149-417c-ae39-c13a16d6300a"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "tortletListPanel",
                "selector": "tortletListPanel"
            },
            "designerId": "edd8f34c-b384-4eae-a40c-e31d906d2d28"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "tortletsListsContainerPanel",
                "selector": "tortletsListsContainerPanel"
            },
            "designerId": "4a64c1ee-9659-4331-9e89-9fb6fb559cab"
        }
    ]
}