{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "DreamsTabController"
    },
    "designerId": "b4ef4b19-e96a-4128-b08f-83eee4866b5b",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onDreamListItemTap",
                "implHandler": [
                    "var dreamDetails = this.getDreamDetails();\r",
                    "dreamDetails.newStatus = 'false';\r",
                    "dreamDetails.setRecord(record);\r",
                    "//alert(record.get('id'));\r",
                    "MyApp.app.currentDreamId = record.get('id');\r",
                    "this.getDreamDeleteButton().show();\r",
                    "dreamDetails.getScrollable().getScroller().scrollToTop();\r",
                    "this.getDreamListCardPanel().animateActiveItem(dreamDetails, { type: 'slide'} );\r",
                    ""
                ],
                "name": "itemtap",
                "designer|targetType": "DreamList",
                "designer|controlQuery": "dreamList"
            },
            "designerId": "6a472545-fa60-47a8-8b8f-00b688783d49"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onDreamDetailsNextButtonTap",
                "implHandler": [
                    "var tortoiseListPanel = this.getTortoiseListPanel();\r",
                    "var tortoiseList = this.getTortoiseList();\r",
                    "var dreamDetailsForm = this.getDreamDetails();\r",
                    "var newStatus = dreamDetailsForm.newStatus;\r",
                    "var currentUser = MyApp.app.currentUser;\r",
                    "/* Accessing global variable which has been set \r",
                    "in Application launch() function */\r",
                    "var userid = MyApp.app.currentUser.get('userid');; \r",
                    "var utility = MyApp.app.getController('UtilityController');\r",
                    "/* Need this so that this controller is available in \r",
                    "callback methods. */\r",
                    "var caller = MyApp.app.getController('DreamsTabController');\r",
                    "var tempDreamId = MyApp.app.tempId;\r",
                    "\r",
                    "var newOrOldDream = dreamDetailsForm.getRecord();\r",
                    "dreamDetailsForm.updateRecord(newOrOldDream);\r",
                    "var errors = newOrOldDream.validate();\r",
                    "\r",
                    "if (!errors.isValid()) {\r",
                    "    Ext.Msg.alert('Enter all mandatory fields', '', Ext.emptyFn);\r",
                    "    newOrOldDream.reject();\r",
                    "    return;\r",
                    "}\r",
                    "\r",
                    "if(newStatus === 'true'){ \r",
                    "    newOrOldDream.set('userid', userid);\r",
                    "    newOrOldDream.setTuser(currentUser.getData());\r",
                    "    /* IF u dont do this, id will be posted to server as \r",
                    "    ext-record-<number>. That will result into exception */\r",
                    "    newOrOldDream.set('id',MyApp.app.tempId);\r",
                    "    newOrOldDream.save(this.newDreamSave);\r",
                    "\r",
                    "}else{\r",
                    "    newOrOldDream.save(this.oldDreamSave);\r",
                    "}\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='dreamDetailsNextButton']"
            },
            "designerId": "9c51680b-4656-4e4d-b939-c8eeac2e2673"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onDreamDetailsBackButtonTap",
                "implHandler": [
                    "homeTabCardPanel = this.getHomeTabCardPanel();\r",
                    "\r",
                    "this.getMainTabPanel().setActiveItem(homeTabCardPanel);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='dreamDetailsBackButton']"
            },
            "designerId": "075d72c9-245d-4d97-8502-3706d8ebf5fb"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseListStartDreamingButtonTap",
                "implHandler": [
                    "this.getDreamListCardPanel().animateActiveItem(0, {type : 'slide', direction : 'right'});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortoiseListStartDreamingButton']"
            },
            "designerId": "c186816a-c7a5-442a-a87c-ac31985b4fec"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onDreamDeleteButtonButtonTap",
                "implHandler": [
                    "var dreamListPanel = this.getDreamListPanel();\r",
                    "var dreamListCardPanel = this.getDreamListCardPanel();\r",
                    "var dreamDetails = this.getDreamDetails();\r",
                    "var dreamList = this.getDreamList();\r",
                    "var dream = dreamDetails.getRecord();\r",
                    "dreamDetails.updateRecord(dream);\r",
                    "\r",
                    "\r",
                    "Ext.Msg.confirm('', \"Dream and it's tortoises will be deleted !\", function(buttonId,value,opt) {\r",
                    "   \r",
                    "    if(buttonId === 'yes') { \r",
                    "        dream.getProxy().setAppendId(true);\r",
                    "        dream.erase({ \r",
                    "        \tscope : this,\r",
                    "        \tsuccess : function(record, operation) { \r",
                    "            \tdream.getProxy().setAppendId(false);\r",
                    "                var dreamsStore = Ext.getStore('dreamsStore');\r",
                    "                dreamsStore.load();// Have to load again otherwise\r",
                    "\t\t\t\t// store list does not get refreshed.                \r",
                    "             \tdreamListCardPanel.animateActiveItem(dreamListPanel, { type : 'slide', direction : 'right'});\r",
                    "        \t},\r",
                    "        \tfailure : function(record, operation) { alert('delete failed');}\r",
                    "\r",
                    "\t\t});\r",
                    "    \r",
                    "    }\r",
                    "\r",
                    "});\r",
                    "\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='dreamDeleteButton']"
            },
            "designerId": "70fa4141-6d52-4614-b3ac-0aceef2caf90"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseListPanelBackButtonTap",
                "implHandler": [
                    "var dreamDetails = this.getDreamDetails();\r",
                    "dreamDetails.newStatus = 'false';\r",
                    "dreamDetails.getScrollable().getScroller().scrollToTop();\r",
                    "this.getDreamListCardPanel().animateActiveItem(dreamDetails, { type : 'slide', direction : 'right'});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortoiseListPanelBackButton']"
            },
            "designerId": "a0134396-bb69-46ab-95dd-b01b50aafafb"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseListItemTap",
                "implHandler": [
                    "var tortoiseDetailsForm = this.getTortoiseDetails();\r",
                    "tortoiseDetailsForm.setRecord(record);\r",
                    "tortoiseDetailsForm.newStatus='false';\r",
                    "var tortoiseDetailsBackToDreamButton = this.getTortoiseDetailsBackToDreamButton();\r",
                    "tortoiseDetailsBackToDreamButton.show();\r",
                    "var tortoiseDetailsBackToListButton = this.getTortoiseDetailsBackToListButton();\r",
                    "tortoiseDetailsBackToListButton.hide();\r",
                    "var tortoiseDeleteButton =\r",
                    "this.getTortoiseDeleteButton();\r",
                    "tortoiseDeleteButton.show();\r",
                    "tortoiseDetailsForm.getScrollable().getScroller().scrollToTop();\r",
                    "this.getDreamListCardPanel().animateActiveItem(tortoiseDetailsForm,{ type : 'slide'});"
                ],
                "name": "itemtap",
                "designer|targetType": "TortoiseList",
                "designer|controlQuery": "tortoiseList"
            },
            "designerId": "cbe11079-1bc5-4c39-8c6d-32aa80e3894a"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onAllTortletsPanelDreamButtonTap",
                "implHandler": [
                    "this.getDreamListCardPanel()\r",
                    ".animateActiveItem(0,{ type : 'slide', direction : 'right'});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='allTortletsPanelDreamButton']"
            },
            "designerId": "e4a862f1-7e07-489d-9218-dc7429d887ff"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseListPanelAddButtonTap",
                "implHandler": [
                    "var dreamListCardPanel = this.getDreamListCardPanel();\r",
                    "var tortoiseDetails = this.getTortoiseDetails();\r",
                    "var dreamDetailsForm = this.getDreamDetails();\r",
                    "var dream = dreamDetailsForm.getRecord();\r",
                    "//dreamDetailsForm.updateRecord(oldDream);\r",
                    "var newTortoise = Ext.create('MyApp.model.Tortoise', { });\r",
                    "newTortoise.set('dream', dream.get('id'));\r",
                    "newTortoise.set('title', '');// Otherwise it uses title of old tortoise ! strange\r",
                    "tortoiseDetails.setRecord(newTortoise);\r",
                    "tortoiseDetails.newStatus='true';\r",
                    "var tortoiseDeleteButton = \r",
                    "this.getTortoiseDeleteButton();\r",
                    "tortoiseDeleteButton.hide();\r",
                    "var tortoiseDetailsBackToDreamButton \r",
                    "= this.getTortoiseDetailsBackToDreamButton();\r",
                    "tortoiseDetailsBackToDreamButton.hide();\r",
                    "var tortoiseDetailsBackToListButton \r",
                    "= this.getTortoiseDetailsBackToListButton();\r",
                    "tortoiseDetailsBackToListButton.show();\r",
                    "tortoiseDetails.getScrollable().getScroller().scrollToTop();\r",
                    "dreamListCardPanel.animateActiveItem(tortoiseDetails, { type : 'slide', direction : 'down'});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortoiseListPanelAddButton']"
            },
            "designerId": "a73eda5b-6679-4509-9d0e-28fc7012c772"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseDetailsSaveButtonTap",
                "implHandler": [
                    "var tortoiseListPanel = this.getTortoiseListPanel();\r",
                    "\r",
                    "var tortoiseDetailsForm = this.getTortoiseDetails();\r",
                    "var newStatus = tortoiseDetailsForm.newStatus;\r",
                    "var currentUser = MyApp.app.currentUser;\r",
                    "\r",
                    "var userid = MyApp.app.currentUser.get('userid'); \r",
                    "var utility = MyApp.app.getController('UtilityController');\r",
                    "var caller = MyApp.app.getController('DreamsTabController');\r",
                    "var tempDreamId = MyApp.app.tempId;\r",
                    "\r",
                    "var newOrOldTortoise = tortoiseDetailsForm.getRecord();\r",
                    "tortoiseDetailsForm.updateRecord(newOrOldTortoise);\r",
                    "\r",
                    "var errorMessage = this.validateTortoise(newOrOldTortoise);\r",
                    "if(errorMessage !== ''){\r",
                    "   Ext.Msg.alert(errorMessage, '', Ext.emptyFn);\r",
                    "   newOrOldTortoise.reject();\r",
                    "   return;\r",
                    "}\r",
                    "\r",
                    "if(newStatus === 'true'){    \r",
                    "    newOrOldTortoise.set('userid', userid);\r",
                    "    newOrOldTortoise.setDream(newOrOldTortoise.getDream().getData());\r",
                    "    newOrOldTortoise.set('id',MyApp.app.tempId);\r",
                    "    newOrOldTortoise.save(this.newTortoiseSave);\r",
                    "}else{\r",
                    "    tortoiseId = newOrOldTortoise.get('id');\r",
                    "    if(newOrOldTortoise.dirty === true){\r",
                    "        newOrOldTortoise.save(this.oldTortoiseSave);\r",
                    "    }else{\r",
                    "        dreamId = newOrOldTortoise.getDream().get('id');\r",
                    "        utility.loadTortoises(dreamId);\r",
                    "        caller.getDreamListCardPanel().animateActiveItem(tortoiseListPanel, {type : 'slide'});\r",
                    "    }\r",
                    "\r",
                    "}\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortoiseDetailsSaveButton']"
            },
            "designerId": "71a86a3a-f024-4828-a47b-c5f047ff4b45"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseDetailsBackButtonTap",
                "implHandler": [
                    "alert('tortoseDetailsBackToDream');\r",
                    "var dreamListCardPanel = this.getDreamListCardPanel();\r",
                    "var tortoiseListPanel = this.getTortoiseListPanel();\r",
                    "dreamListCardPanel.animateActiveItem(tortoiseListPanel, {type : 'slide', direction : 'right'});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortoiseDetailsBackButton']"
            },
            "designerId": "edd5ef49-a3e4-491f-9dae-92d7aa9a1fd1"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onAllTortletsPanelBackButtonTap",
                "implHandler": [
                    "this.getDreamListCardPanel().\r",
                    "animateActiveItem( 4,{type : 'slide', direction : 'right'});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='allTortletsPanelBackButton']"
            },
            "designerId": "ef03b1de-909f-494e-af4d-397771740508"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseDetailsTortletsButtonTap",
                "implHandler": [
                    "this.getDreamListCardPanel().\r",
                    "animateActiveItem(3, {type : 'slide'});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortoiseDetailsTortletsButton']"
            },
            "designerId": "0c23b93c-d6a8-422c-a277-105bdaeaa519"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "dreamDetails",
                "selector": "dreamDetails"
            },
            "designerId": "02fea2bf-0e5a-4d77-9cdb-28e9aa5b14a3"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "tortoiseDetails",
                "selector": "tortoiseDetails"
            },
            "designerId": "2e52ce66-5384-46d2-9790-f3980756de71"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "tortoiseListPanel",
                "selector": "tortoiseListPanel"
            },
            "designerId": "430ba67e-38f0-45d4-bb25-099ff3a22110"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onHomeTabNewDreamButtonTap",
                "implHandler": [
                    "console.log('inside onHomePageDreamButtonTap');\r",
                    "var dreamForm = this.getDreamDetails();\r",
                    "var text = this.getWhatsYourDreamTextField().getValue();\r",
                    "//alert(text);\r",
                    "var record = Ext.create('MyApp.model.Dream');\r",
                    "record.set('title', text);\r",
                    "dreamForm.newStatus='true';\r",
                    "dreamForm.setRecord(record);\r",
                    "var mainTabPanel = this.getMainTabPanel();\r",
                    "mainTabPanel.setActiveItem(1);\r",
                    "var deleteButton = this.getDreamDeleteButton(); //Ext.ComponentQuery.query(\"button[name='dreamDeleteButton']\");\r",
                    "deleteButton.hide();\r",
                    "dreamForm.getScrollable().getScroller().scrollToTop();\r",
                    "this.getDreamListCardPanel().animateActiveItem(dreamForm, { type: 'slide'});\r",
                    "this.getWhatsYourDreamTextField().setValue('');\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='homePageDreamButton']"
            },
            "designerId": "eedb6ac0-136c-4956-8e54-a0fa6a277d56"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "whatsYourDreamTextField",
                "selector": "textfield[name='whatsYourDreamTextField']"
            },
            "designerId": "dd2a5c23-2709-48af-b2df-9c5d60a86dbe"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "mainTabPanel",
                "selector": "mainTabPanel"
            },
            "designerId": "8e1af953-b11d-49cd-8b5e-b48c96b3aeda"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "dreamListCardPanel",
                "selector": "dreamListCardPanel"
            },
            "designerId": "c79beb77-dff9-448f-89f9-7b4ac6403799"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "dreamDeleteButton",
                "selector": "button[name='dreamDeleteButton']"
            },
            "designerId": "ef305eb7-5513-4207-9085-41361c671f21"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "dreamListPanel",
                "selector": "dreamListPanel"
            },
            "designerId": "252aaa9d-c100-4ba8-904e-67368f9c07c6"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "tortoiseDetailsBackToListButton",
                "selector": "button[name='tortoiseDetailsBackToListButton']"
            },
            "designerId": "54ba410d-6f2a-4a53-97eb-77e0e43110e6"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseDetailsBackToListButtonTap",
                "implHandler": [
                    "var tortoiseListPanel = this.getTortoiseListPanel();\r",
                    "var slideConfig =  { type : 'slide', direction : 'up'}; \r",
                    "this.getDreamListCardPanel().animateActiveItem(tortoiseListPanel,slideConfig);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortoiseDetailsBackToListButton']"
            },
            "designerId": "7625c2ae-43e1-4acc-8d19-e72de503e3f9"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "tortoiseDetailsBackToDreamButton",
                "selector": "button[name='tortoiseDetailsBackToDreamButton']"
            },
            "designerId": "ee1a7c6f-bb34-4c99-a6e2-7156fe4f1ead"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseDetailsBackHorizontalButtonTap",
                "implHandler": [
                    "var tortoiseListPanel = this.getTortoiseListPanel();\r",
                    "var slideConfig =  { type : 'slide', direction : 'right'}; \r",
                    "this.getDreamListCardPanel().animateActiveItem(tortoiseListPanel,slideConfig);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortoiseDetailsBackToDreamButton']"
            },
            "designerId": "9e0d1c33-a428-4c8e-a723-4a9185188c83"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "tortoiseDeleteButton",
                "selector": "button[name='tortoiseDeleteButton']"
            },
            "designerId": "78977da9-4e33-4a68-9930-057a9efa5651"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseDeleteButtonTap",
                "implHandler": [
                    "var tortoiseListPanel = this.getTortoiseListPanel();\r",
                    "var dreamListCardPanel = this.getDreamListCardPanel();\r",
                    "var tortoiseDetails = this.getTortoiseDetails();\r",
                    "//var dreamList = this.getDreamList();\r",
                    "var tortoise = tortoiseDetails.getRecord();\r",
                    "tortoiseDetails.updateRecord(tortoise);\r",
                    "\r",
                    "\r",
                    "Ext.Msg.confirm('', \"Tortoise will be deleted !\", function(buttonId,value,opt) {\r",
                    "   \r",
                    "    if(buttonId === 'yes') { \r",
                    "        tortoise.getProxy().setAppendId(true);\r",
                    "        tortoise.erase({ \r",
                    "        \tscope : this,\r",
                    "        \tsuccess : function(record, operation) { \r",
                    "            \ttortoise.getProxy().setAppendId(false);\r",
                    "                var tortoisesStore = Ext.getStore('tortoisesStore');\r",
                    "                var proxy = tortoisesStore.getProxy();\r",
                    "\t\t\t\tvar orgUrl = proxy.getUrl();\r",
                    "\t\t\t\tvar urlWithDream = orgUrl + '&dream=' + dreamId;\r",
                    "\t\t\t\tproxy.setUrl(urlWithDream);\r",
                    "                tortoisesStore.load();// Have to load again otherwise\r",
                    "\t\t\t\t// store list does not get refreshed. \r",
                    "                \r",
                    "             \tdreamListCardPanel.animateActiveItem(tortoiseListPanel, { type : 'slide', direction : 'right'});\r",
                    "        \t},\r",
                    "        \tfailure : function(record, operation) { alert('delete failed');}\r",
                    "\r",
                    "\t\t});\r",
                    "    \r",
                    "    }\r",
                    "\r",
                    "});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[name='tortoiseDeleteButton']"
            },
            "designerId": "53d9a641-9c8a-423b-9d43-e572ba94c8eb"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "homeTabCardPanel",
                "selector": "homeTabCardPanel"
            },
            "designerId": "ab4e2f2f-e66e-4432-b158-a60be9ea4a3d"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "newDreamSave",
                "designer|params": [
                    "createdModel"
                ],
                "implHandler": [
                    "var utility = MyApp.app.getController('UtilityController');\r",
                    "var dreamsTabController = MyApp.app.getController('DreamsTabController');\r",
                    "var tortoiseListPanel = dreamsTabController.getTortoiseListPanel();\r",
                    "var dreamId = createdModel.get('id');\r",
                    "MyApp.app.tempDreamId = dreamId;\r",
                    "var dreamDetailsForm = dreamsTabController.getDreamDetails();\r",
                    "dreamDetailsForm.setRecord(createdModel);\r",
                    "var dreamsStore = Ext.getStore('dreamsStore');\r",
                    "dreamsStore.load();\r",
                    "utility.loadTortoises(dreamId);\r",
                    "dreamsTabController.getDreamListCardPanel().animateActiveItem(tortoiseListPanel, {type : 'slide'});\r",
                    ""
                ]
            },
            "designerId": "56914f8a-4333-43fd-a7dd-6fc2bc878425"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "oldDreamSave",
                "designer|params": [
                    "savedModel"
                ],
                "implHandler": [
                    "var utility = MyApp.app.getController('UtilityController');\r",
                    "var dreamsTabController = MyApp.app.getController('DreamsTabController');\r",
                    "var dreamDetails = dreamsTabController.getDreamDetails();\r",
                    "dreamDetails.setRecord(savedModel); // So that if anybody clicks back,\r",
                    "// form is updated with entity from server.\r",
                    "var tortoiseListPanel = dreamsTabController.getTortoiseListPanel();\r",
                    "var tortoiseList = dreamsTabController.getTortoiseList();\r",
                    "var dreamId = savedModel.get('id');\r",
                    "var dreamsStore = Ext.getStore('dreamsStore');\r",
                    "dreamsStore.load();\r",
                    "//utility.loadTortoises(dreamId);\r",
                    "var tortoisesStore = Ext.getStore('tortoisesStore');\r",
                    "var proxy = tortoisesStore.getProxy();\r",
                    "var orgUrl = proxy.getUrl();\r",
                    "var urlWithDream = orgUrl + '&dream=' + dreamId;\r",
                    "proxy.setUrl(urlWithDream);\r",
                    "tortoisesStore.load(function(records, operation, success) {\r",
                    "    //tortoiseList.refresh();    \r",
                    "    //if(records.length === 0) {\r",
                    "    //     tortoiseList.removeAll();\r",
                    "    //}\r",
                    "\r",
                    "    dreamsTabController.getDreamListCardPanel().animateActiveItem(tortoiseListPanel, {type : 'slide'});  \r",
                    "    proxy.setUrl(orgUrl);\r",
                    "},this);\r",
                    "\r",
                    "\r",
                    ""
                ]
            },
            "designerId": "f15a625d-69b3-4de7-8c83-3e19569c0e97"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "newTortoiseSave",
                "designer|params": [
                    "createdModel"
                ],
                "implHandler": [
                    "var utility = MyApp.app.getController('UtilityController');\r",
                    "var dreamsTabController = MyApp.app.getController('DreamsTabController');\r",
                    "var tortoiseListPanel = dreamsTabController.getTortoiseListPanel();\r",
                    "var dream = createdModel.get('dream');\r",
                    "dreamId = dream.id;\r",
                    "utility.loadTortoises(dreamId);\r",
                    "dreamsTabController.getDreamListCardPanel().animateActiveItem(tortoiseListPanel, {type : 'slide', direction : 'up'});\r",
                    ""
                ]
            },
            "designerId": "a97705c8-43c8-483e-b406-7cffd753d73f"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "oldTortoiseSave",
                "designer|params": [
                    "savedModel"
                ],
                "implHandler": [
                    "var utility = MyApp.app.getController('UtilityController');\r",
                    "var dreamsTabController = MyApp.app.getController('DreamsTabController');\r",
                    "var tortoiseListPanel = dreamsTabController.getTortoiseListPanel();\r",
                    "var dream = savedModel.get('dream');\r",
                    "dreamId = dream.id;\r",
                    "utility.loadTortoises(dreamId);\r",
                    "dreamsTabController.getDreamListCardPanel().animateActiveItem(tortoiseListPanel, {type : 'slide', direction : 'up'});\r",
                    ""
                ]
            },
            "designerId": "74ce3c6d-ee9e-4e83-9953-03cbf898245b"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onTortoiseListStartDreamingButtonTap",
                "implHandler": [
                    "//var dreamDetails = this.getDreamDetails();\r",
                    "var dreamListPanel = this.getDreamListPanel();\r",
                    "this.getDreamListCardPanel().setActiveItem(dreamListPanel);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button#mybutton2"
            },
            "designerId": "3d36555b-4ec9-4582-9c50-f2c67c87fa45"
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "init",
                "designer|params": [
                    "application"
                ],
                "implHandler": [
                    "console.log('initing DreamsTabController');"
                ]
            },
            "designerId": "155d2bba-d4f5-411c-b852-dbaee0354028"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "validateTortoise",
                "designer|params": [
                    "tortoise"
                ],
                "implHandler": [
                    "var errorMessage = '';\r",
                    "var errors = tortoise.validate();\r",
                    "if (!errors.isValid()) {\r",
                    "  errorMessage = 'Enter all mandatory fields'  ;\r",
                    "\r",
                    "}\r",
                    "\r",
                    "if(tortoise.get('monday') === false &&\r",
                    "   tortoise.get('tuesday') === false && \r",
                    "   tortoise.get('wednesday') === false && \r",
                    "   tortoise.get('thursday') === false &&\r",
                    "   tortoise.get('friday') === false &&\r",
                    "   tortoise.get('saturday') === false &&\r",
                    "   tortoise.get('sunday') === false\r",
                    "   ){\r",
                    "       \r",
                    "     errorMessage = 'Select at least one day';   \r",
                    "   }\r",
                    "\r",
                    "return errorMessage;"
                ]
            },
            "designerId": "fd6cb084-499d-4e61-b386-2b4b84f58340"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "tortoiseList",
                "selector": "tortoiseList"
            },
            "designerId": "9b857821-e989-4847-b77e-b76d1a20cd9f"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "dreamList",
                "selector": "dreamList"
            },
            "designerId": "7cfcb8ce-bab6-4414-84b1-6e83b145ba41"
        }
    ]
}