{
    "type": "Ext.form.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "listeners": [
            "[",
            "    {",
            "        ",
            "            delegate: '#loginButtonItemId',",
            "    \t\tevent: 'tap',",
            "    \t\tfn: 'onLogInButtonTap'",
            "",
            "    }",
            "",
            "",
            "]   ",
            "    "
        ],
        "loginUrl": "http://localhost:8080/tusers?find=ByUseridEqualsAndPasswordEquals",
        "centered": false,
        "docked": null,
        "itemId": "loginFormItemId",
        "designer|userClassName": "LoginModule",
        "designer|userAlias": "genericLoginForm",
        "modal": true
    },
    "configAlternates": {
        "listeners": "array"
    },
    "designerId": "64ff5863-3efe-4ca0-b6aa-e3028c44615b",
    "customConfigs": [
        {
            "group": "(Custom Properties)",
            "name": "listeners",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "loginUrl",
            "type": "string"
        }
    ],
    "cn": [
        {
            "type": "Ext.Label",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "hidden": true,
                "hideAnimation": "fadeOut",
                "html": "Login failed, try again..",
                "itemId": "signInFailedLabel",
                "showAnimation": "fadeIn",
                "style": "color:#990000;",
                "designer|userClassName": "MyLabel"
            },
            "designerId": "da938614-a0f5-41b0-b4a5-73d852dfcd36"
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "MyFieldSet",
                "title": null
            },
            "designerId": "5ac05b0f-a4fe-45e3-b5c9-5636514a2b90",
            "cn": [
                {
                    "type": "Ext.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "userIdItemId",
                        "designer|userClassName": "MyTextField",
                        "label": null,
                        "name": "userid",
                        "required": true,
                        "placeHolder": "Userid.."
                    },
                    "designerId": "b8244970-8fe8-46cb-b68e-e130f4ee9d41"
                },
                {
                    "type": "Ext.field.Password",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "passwordItemId",
                        "designer|userClassName": "MyPasswordField",
                        "label": null,
                        "name": "userid",
                        "required": true,
                        "placeHolder": "Password.."
                    },
                    "designerId": "b2bf80da-2466-4acd-b900-02dbefe99dc0"
                }
            ]
        },
        {
            "type": "Ext.Button",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "itemId": "loginButtonItemId",
                "ui": "action",
                "designer|userClassName": "MyButton",
                "text": "Log In"
            },
            "designerId": "71ab1d7b-d536-4b60-86d6-09ed454fae89"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onLogInButtonTap",
                "fn": "onLogInButtonTap",
                "implHandler": [
                    "var me = this,\r",
                    "\r",
                    "    userIdField = me.down('#userIdItemId'),\r",
                    "    passwordField = me.down('#passwordItemId'),\r",
                    "    label = me.down('#signInFailedLabel'),\r",
                    "\r",
                    "    userid = userIdField.getValue(),\r",
                    "    password = passwordField.getValue();\r",
                    "\r",
                    "if(userid.length === 0 || password.length === 0) {\r",
                    "    me.showSignInFailedMessage('Please enter your username and password.');\r",
                    "    return;\r",
                    "}  \r",
                    "\r",
                    "label.setHtml('');\r",
                    "userIdField.setValue('');\r",
                    "passwordField.setValue('');\r",
                    "\r",
                    "var loginUrl = me.getInitialConfig().loginUrl;\r",
                    "\r",
                    "Ext.Ajax.request({\r",
                    "    url: loginUrl,\r",
                    "    method: 'get',\r",
                    "    headers : { \r",
                    "        Accept : 'application/json' \r",
                    "    },\r",
                    "    params: {\r",
                    "        userid: userid,\r",
                    "        password: password\r",
                    "    },\r",
                    "    success: function (response) {        \r",
                    "        var loginResponse = Ext.JSON.decode(response.responseText);\r",
                    "        var userObject = loginResponse[0];\r",
                    "        if (loginResponse.length === 1 && userObject.userid === userid) {\r",
                    "            userObject.plainPassword = password;\r",
                    "            me.fireEvent('signInSuccess',loginResponse[0]);\r",
                    "        } else {\r",
                    "            me.showSignInFailedMessage('Bad Credentials');\r",
                    "        }\r",
                    "    },\r",
                    "    failure: function (response) {\r",
                    "        me.showSignInFailedMessage('Server error. Please try again later.');\r",
                    "    }\r",
                    "});"
                ]
            },
            "designerId": "a5e37c05-8745-4746-9318-540bd0f90382"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "showSignInFailedMessage",
                "fn": "showSignInFailedMessage",
                "designer|params": [
                    "message"
                ],
                "implHandler": [
                    "var label = this.down('#signInFailedLabel');\r",
                    "label.setHtml(message);\r",
                    "label.show();"
                ]
            },
            "designerId": "1c57d06c-8893-4c16-9ff6-e9feaec4c516"
        },
        {
            "type": "Ext.Button",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ui": "confirm",
                "designer|userClassName": "MyButton6",
                "text": "Sign Up !"
            },
            "designerId": "da3edcf0-eefe-47b0-bce2-6752efdc9059",
            "cn": [
                {
                    "type": "fixedfunction",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|userClassName": "handler",
                        "fn": "handler",
                        "designer|params": [
                            "button",
                            "event"
                        ],
                        "implHandler": [
                            "var landingCardPanel = this.up('#landingCardPanel');\r",
                            "landingCardPanel.animateActiveItem(1,{ type: 'slide'});"
                        ]
                    },
                    "designerId": "d1c4d597-d197-492c-a93e-416f3c40e803"
                }
            ]
        }
    ]
}